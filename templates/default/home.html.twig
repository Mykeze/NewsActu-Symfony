{% extends 'base.html.twig' %}

{% block body %}

	<h1 class="text-center my-3 mx-auto">Tous les articles</h1>
	<div class="row mx-auto d-flex">

		{% for article in articles %}
			<div class="col-3 my-3 ms-2">
				<div class="card" style="width: 18rem;">
					<img src="{{ asset('uploads/') ~ article.photo}}" width="230" height="130" class="card-img-top img-card-custom" alt="{{ article.title }}">{# la fonction asset() regarde tjrs ds le dossier public #}
					<div class="card-body">
						<h5 class="card-title">{{  article.title | length > 20 ? article.title | slice(0,20) ~ '...' : article.title }}</h5>
						<h6 class="card-title">{{  article.subtitle | length > 30 ? article.subtitle | slice(0,30) ~ '...' : article.subtitle }}</h6>
						<p class="card-text">{{  article.content | length > 50 ? article.content | slice(0,50) ~ '...' : article.content }}</p>
						<a href="{{ path('show_article', { 'cat_alias': article.category.alias|lower, 'article_alias': article.alias|lower,  'id': article.id }) }}" class="btn btn-primary">Voir l'article</a>
					</div>
				</div>
			</div>
		{% endfor %}
	</div>

{% endblock %}
